<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>언리얼 엔진 챌린지 2025</title>

  <!-- JS -->
  <script src="assets/js/jquery-1.7.2.min.js"></script>
  <script src="assets/js/ui_common.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <!-- CSS -->
   <link rel="stylesheet" href="/event2025/assets/css/style3.css">
>

  <style>
    /* 마감 안내 스타일 */
    .deadline-notice {
      background: rgba(255, 80, 80, 0.15);
      border: 1px solid #ff5050;
      border-radius: 8px;
      padding: 20px 24px;
      margin-bottom: 30px;
      text-align: center;
    }

    .deadline-notice h3 {
      color: #ff5050;
      font-size: 18px;
      margin-bottom: 10px;
    }

    .deadline-notice p {
      color: #ccc;
      font-size: 14px;
      margin: 0;
    }

    /* 비활성화된 버튼 */
    .btn-wrap .check.disabled {
      background: #555;
      color: #999;
      cursor: not-allowed;
      pointer-events: none;
    }

    /* 폼 비활성화 시 입력 필드 */
    .form-disabled input {
      background: #333;
      color: #666;
      cursor: not-allowed;
      pointer-events: none;
    }
  </style>

  <!-- 생략: 기존 GA, Ads, Facebook 픽셀 코드 유지 -->
</head>

<body>
  <div class="container">
    <div class="complete-part-02">
      <div class="contents-wrap">
        <div class="logo">
          <a href="https://epiclounge.co.kr">
            <img src="assets/img/logo.png">
          </a>
        </div>
        <h1 class="part-title"></h1>
        <form id="login-form" name="login-form" action="/event2025/revise-part.html" method="post">
          <input type="hidden" name="mode" value="modify" />
          <div class="contents-box">
            <div class="section">
              <h2 class="section-title">신청 정보 확인</h2>

              <!-- 마감 안내 (기본 숨김, JS로 표시) -->
              <div id="deadline-notice" class="deadline-notice" style="display: none;">
                <h3>⚠️ 수정 기간이 종료되었습니다</h3>
                <p>신청서 수정은 2025년 12월 29일까지만 가능합니다.<br>
                  문의사항은 <a href="mailto:info@epiclounge.co.kr" style="color: #4D91FF;">고객센터</a>로 연락해 주세요.</p>
              </div>

              <!-- <p>신청시 사용한 이메일/비밀번호를 입력해 주세요.</p> -->
              <div class="content">
                <h3 class="content-title">이메일</h3>
                <input type="text" name="inputEmail" placeholder="신청 시 기입한 이메일을 입력해 주세요">
                <h3 class="content-title">비밀번호</h3>
                <input type="password" name="password" placeholder="신청 시 기입한 비밀번호을 입력해 주세요">
                <p>이메일/비밀번호가 기억나지 않으면 <a href="mailto:info@epiclounge.co.kr" target="_blank" style="color:rgb(255, 142, 142)">고객센터</a>에 문의하세요.</p>
              </div>
            </div>
          </div>
          <div class="btn-wrap">
            <a href="javascript:;" id="btnLoginAction" class="check" data-open="popup_info_confirm">확인</a>
          </div>
        </form>

        <!-- 기간 마감 팝업 -->
        <div id="popup_deadline" class="popup">
          <div class="popup-wrap">
            <p>수정 가능한 기간이 지났습니다.<br>신청서 수정은 2025년 12월 29일 23:59까지만 가능합니다.</p>
            <div class="miniBtn-wrap">
              <a href="https://epiclounge.co.kr" class="check">확인</a>
            </div>
          </div>
        </div>

        <!-- 신청정보 확인 팝업 -->
        <div id="popup_info_confirm" class="popup">
          <div class="popup-wrap">
            <p>고객님은 언리얼 챌린지 2025에 등록이 되어있습니다.<br>신청정보를 확인하시겠습니까 ?</p>
            <div class="miniBtn-wrap">
              <a href="javascript:;" class="cancel ui-close" data-close="popup_info_confirm">취소</a>
              <a href="" class="check">확인</a>
            </div>
          </div>
        </div>

        <!-- 이메일 형식에 맞게 팝업 -->
        <div id="popup_email_check" class="popup">
          <div class="popup-wrap">
            <p>이메일을 형식에 맞게 입력하세요.</p>
            <div class="miniBtn-wrap">
              <a href="javascript:;" class="cancel ui-close" data-close="popup_email_check">취소</a>
              <a href="" class="check">확인</a>
            </div>
          </div>
        </div>

        <!-- 등록된 정보 없음 팝업 -->
        <div id="popup_info_empty" class="popup">
          <div class="popup-wrap">
            <p>등록된 정보가 존재하지 않습니다. 이메일 혹은 비밀번호를 확인해주세요.</p>
            <div class="miniBtn-wrap">
              <a href="javascript:;" class="check">확인</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(function() {
      init();
    });

    function init() {
      // 마감 시간 체크
      if (checkDeadline()) {
        setLogin();
      }
    }

    // 마감 시간 체크 함수
    function checkDeadline() {
      // 마감일: 2025년 12월 29일 23:59:59 (한국 시간)
      var deadline = new Date('2025-12-29T23:59:59+09:00');
      var now = new Date();

      if (now > deadline) {
        // 마감 시간이 지남
        $('#deadline-notice').show();
        $('#login-form .content').addClass('form-disabled');
        $('#login-form input').prop('disabled', true);
        $('#btnLoginAction').addClass('disabled');

        // 마감 팝업 표시
        $('#popup_deadline').addClass('on');

        // 버튼 클릭 시 경고
        $('#btnLoginAction').off('click').on('click', function(e) {
          e.preventDefault();
          alert('수정 가능한 기간이 지났습니다.\n신청서 수정은 2025년 12월 29일 23:59까지만 가능합니다.');
        });

        return false;
      }

      return true;
    }

    function setLogin() {
      $.validator.addMethod("userEmail", function(value, element) {
        return this.optional(element) || /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(value);
      }, "이메일을 형식에 맞게 입력하세요.");

      $('#login-form').validate({
        debug: true,
        onfocusout: function(element) {
          $(element).valid();
        },
        errorPlacement: function(error, element) {
          element.parent().next('.warning').show();
        },
        rules: {
          inputEmail: {
            required: true,
            maxlength: 68,
            userEmail: true,
            email: true
          },
        },
        highlight: function(element) {},
        unhighlight: function(element) {
          $(element).parent().next('.warning').hide();
        },
        messages: {
          inputEmail: {
            required: "이메일을 입력하세요.",
            maxlength: $.validator.format('이메일은 {0}자 내로 입력하세요.'),
            email: "이메일을 형식에 맞게 입력하세요."
          },
        },
        invalidHandler: function(form, validator) {
          var errors = validator.numberOfInvalids();
          if (errors) {
            alert(validator.errorList[0].message);
            validator.errorList[0].element.focus();
          }
        }
      });

      $("#btnLoginAction").on("click", function(e) {
        // 한 번 더 마감 체크
        var deadline = new Date('2025-12-29T23:59:59+09:00');
        var now = new Date();

        if (now > deadline) {
          alert('수정 가능한 기간이 지났습니다.\n신청서 수정은 2025년 12월 29일 23:59까지만 가능합니다.');
          return false;
        }

        var form = document.forms['login-form'];
        if ($('#login-form').valid()) {
          form.submit();
        }
      });
    }
  </script>
</body>

</html>