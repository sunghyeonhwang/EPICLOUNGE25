<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>에픽라운지</title>

  <!-- CSS -->
  <link rel="stylesheet" href="./assets/css/nice-select.css">
  <link rel="stylesheet" href="./assets/css/event.css">

  <!-- JS -->
  <script src="assets/js/jquery-1.7.2.min.js"></script>
  <script src="assets/js/jquery.nice-select.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <!--[if lt IE 9]>
  <script src="assets/js/html5shiv.js"></script>
  <![endif]-->

  <!--[if IE 9]>
  <link rel="stylesheet" href="assets/js/ie9.css">
  <![endif]-->

</head>

<body>
  <header class="header">
    <div class="inner-wrap">
      <div class="logo">
        <a href="/v2/event_summit.php"><span class="blind">로고</span></a>
      </div>
      <div class="confirm blind">
        <p>이미 등록을 하셨나요?</p>
        <div class="btn-group">
          <a href="application_confirm.html" class="md sky">등록확인</a>
        </div>
      </div>
    </div>
  </header>
  
  <div class="container">
    <form id="login-form" name="login-form" action="application_modify.html" method="post">
      <h1 class="event-title mg">언리얼 서밋 온라인 2021</h1>
      <div class="contents-wrap">
        <div class="content-head">
          <div class="info-text"><span>등록정보</span></div>
        </div>
          <div class="content-box">
            <div class="section">
              <h2 class="section-title">등록정보 확인</h2>
              <div class="form-wrap">
                <ul>
                  <li>
                    <h3>이메일</h3>
                    <div class="wrap">
                      <input type="text" name="inputEmail" placeholder="이메일을 입력해주세요">
                    </div>
                  </li>
                  <li>
                    <h3>연락처</h3>
                    <div class="wrap">
                      <input type="text" name="apply_user_phone" numberOnly placeholder="연락처를 입력해주세요">
                      <p>'-'를 제외한 숫자만 입력해주세요</p>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="descript">이메일과 연락처 확인 후 정보 수정 또는 등록 취소가 가능합니다</div>
          <div class="btn-group">
            <a  id="btnLoginAction" href="javascript:;" class="lg full sky">확인</a>
          </div>
      </div>
    </form>
    <script>
      $(function() {
        setLogin();
        // 전화번호 숫자만 입력
        $("input:text[numberOnly]").on("keyup", function() {
            $(this).val($(this).val().replace(/[^0-9]/g,""));
        });
      });
  
      function setLogin() {
          $.validator.addMethod("userEmail", function(value, element) {
              return this.optional(element) || /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(value);
          }, "이메일을 형식에 맞게 입력하세요.");
  
          $('#login-form').validate({
              debug: true,
              onfocusout: function(element) {
                  $(element).valid();
              },
              errorPlacement: function(error, element) {
                  element.parent().next('.warning').show();
              },
              rules: {
                  inputEmail: {
                      required: true,
                      maxlength: 50,
                      userEmail: true,
                      email: true
                  },
              },
              highlight: function(element) {},
              unhighlight: function(element) {
                  $(element).parent().next('.warning').hide();
              },
              messages: {
                  inputEmail: {
                      required: "이메일을 입력하세요.",
                      maxlength: $.validator.format('이메일은 {0}자 내로 입력하세요.'),
                      email: "이메일을 형식에 맞게 입력하세요."
                  },
              },
              invalidHandler: function(form, validator) {
                  var errors = validator.numberOfInvalids();
                  if (errors) {
                      alert(validator.errorList[0].message);
                      validator.errorList[0].element.focus();
                  }
              }
          });
          

          $("#btnLoginAction").on("click", function(e) {
            var form = document.forms['login-form'];
            if (form.apply_user_phone.value == "") {
              alert("연락처를 입력해 주세요.");
              form.apply_user_phone.focus();
              return false;
            } 
            if ($('#login-form').valid()) { // test for validity
                form.submit();
            } else {
                // do stuff if form is not valid
            }
        });
      }
    </script>
  </div>

</body>

</html>
